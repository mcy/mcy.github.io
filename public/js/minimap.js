document.addEventListener("DOMContentLoaded",()=>{function e(){return document.body.clientHeight}function t(){return document.body.clientWidth}function n(){return window.innerHeight}function i(){return window.innerWidth}function o(){let t=window.scrollY/(e()-n());return t>1?1:t}function d(){let t=e()*w-n();t<=0?y.style.top="0px":(t*=o(),y.style.top=`-${t}px`)}function l(){let o=e()/t(),l=n()/i();f.style.width=t()*m+"px";let s=document.getElementsByClassName("sidebar")[0].clientWidth,c=document.getElementsByClassName("content")[0].clientWidth,u=window.innerWidth-s-c;f.style.right=`calc((10em - ${u}px) * ${m})`,p.style.right=`-${s*m*2}px`,w=f.clientWidth/t(),h.style.paddingTop=100*o+"%",p.style.paddingTop=100*l+"%",y.style.width=100/w+"%",y.style.height=100/w+"%",y.style.transform=`scale(${w})`,d()}function s(){let e=o()*(n()-p.clientHeight);p.style.transform=`translate(0px, ${e}px)`,d()}function c(t){t.preventDefault(),v=t.touches?t.touches[0].clientX:t.clientX,g=t.touches?t.touches[0].clientY:t.clientY;let i=p.getBoundingClientRect();if(g<i.top)g=g/2+i.top/2;else{if(!(g>i.bottom))return void(E=!0);g=g/2+i.top/2}E=i.top<g&&i.bottom>g;let o=(v-f.offsetLeft-p.clientWidth/2)/w,d=g/n()*e();window.scrollTo(o,d)}function u(e){if(!E)return;e.preventDefault();let t=e.touches?e.touches[0].clientX:e.clientX,n=e.touches?e.touches[0].clientY:e.clientY;window.scrollBy((t-v)/w,(n-g)/window.innerHeight*document.body.clientHeight),v=t,g=n,d()}function r(){E=!1}function a(e){e.target===document.body&&(E=!1)}const m=.15;let w=m,h=document.getElementsByClassName("minimap-size")[0],p=document.getElementsByClassName("minimap-controller")[0],y=document.getElementsByClassName("minimap-content")[0],f=document.getElementsByClassName("minimap")[0];if(!f)return;l(),window.addEventListener("resize",l),window.addEventListener("load",l),s(),window.addEventListener("scroll",s),window.addEventListener("load",s);let v=0,g=0,E=!1;f.addEventListener("mousedown",c),f.addEventListener("touchdown",c),window.addEventListener("mousemove",u),window.addEventListener("touchmove",u),window.addEventListener("mouseup",r),window.addEventListener("touchend",r),document.body.addEventListener("mouseleave",a),document.body.addEventListener("touchleave",a)},!1);